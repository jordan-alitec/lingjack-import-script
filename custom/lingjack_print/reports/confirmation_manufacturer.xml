<odoo>
    <template id="report_confirmation_manufacturer">
        <t t-call="web.external_layout">
            <br/>
            <div class="page">
                <p style="text-align: right; font-weight: bold; margin-right: 90px;font-size: 25px;">
                        Annex D
                </p>
                <h2 style="text-align: center; font-weight: bold;font-size: 18px; margin-bottom: 3px;font-size:25px;">
                    LETTER OF DECLARATION BY MANUFACTURER
                </h2>
                <div style="text-align: center; font-weight: bold;font-size: 25px;">
                    For The Purpose of Applying Ordinary (Non - Preferential) Certificate of Origin
                </div>
                <div style="text-align: left; margin-top: 20px; margin-lef: 20px;">
                    <strong>Date :</strong>
                    <span t-field="o.invoice_date" t-options='{"widget": "date"}'/>
                </div>
                <div class="row mt8">
<!--                    <div class="col-4">-->
<!--                        <p>-->
<!--                            <t t-if="o.coo_chamber_id">-->
<!--                                <strong>To :</strong>-->
<!--                            </t>-->
<!--                            <p t-if="o.partner_id">-->
<!--                                <span t-field="o.partner_id"-->
<!--                                      t-options="{'widget': 'contact', 'fields': ['name', 'address'], 'no_marker': true } "/>-->
<!--                            </p>-->
<!--                        </p>-->
<!--                    </div>-->
                    <div class="col-1" style="width: 100%; white-space: nowrap;">
                            <t t-if="o.coo_chamber_id">
                                <strong>To :</strong>
                            </t>
<!--                    </div>-->
<!--                    <div class="col-4" style="position: relative;left: -30px;">-->
                            <t t-if="o.coo_chamber_id">
                                <span>The Executive Director</span>
                                <span t-field="o.coo_chamber_id"
                                      t-options="{'widget': 'contact', 'fields': ['name', 'address'], 'no_marker': true } "/>
                            </t>
                    </div>

                </div>
                <br/>

                <table class="table table-borderless">
                    <tr>
                        <td style="text-align: left;">
                            <ul class="list-unstyled">
                                <li>
                                Dear Sir,
                                </li>
                                <br/>
                                <li style="font-weight:bold;">
                                 CONFIRMATION OF MANUFACTURER
                                </li>
                                <br/>
                                <li>
                                 We hereby declare the product(s) listed below:
                                </li>
                            </ul>
                        </td>
                    </tr>
                </table>

                <t t-set="total_weight" t-value="0.0"/>
                <table class="table table-sm mt16" style="width: 100%; border: 1px solid">
                    <thead>
                        <tr style="background-color: #f0f0f0; color: #1f4e79;">
                            <th style="width: 20%;">Com</th>
                            <th style="width: 50%;">Description of Goods</th>
                            <th class="text-end">Quantity</th>
                            <th class="text-end" style="padding-right:5px;">Weight (kgs)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="o.invoice_line_ids" t-as="line">
                            <t t-if="line.quantity != 0 and line.product_id.product_tmpl_id.type == 'consu'">

                            <t t-if="line.quantity > 0">
                                <t t-set="qty" t-value="line.quantity or 0.0"/>
                                <t t-set="unit_weight" t-value="line.product_id.weight or 0.0"/>
                                <t t-set="line_weight" t-value="qty * unit_weight"/>
                                <t t-set="total_weight" t-value="total_weight + line_weight"/>

                                <tr>
                                    <td>
                                        <span t-field="line.product_id.default_code"/>
                                    </td>
                                    <td>
                                        <span t-esc="line.name" style="white-space: pre-line;"/>
                                        <br/>
                                        <t t-if="line.product_id.country_of_origin">
                                            <span>Country of Origin :</span>
                                            <span t-field="line.product_id.country_of_origin"/>
                                            <br/>
                                        </t>
                                    </td>
                                    <td  class="o_td_quantity text-end">
                                        <span t-field="line.quantity"/>
                                        <span t-field="line.product_uom_id"/>
                                    </td>
                                    <td class="text-end" style="padding-right:5px;">
                                        <span t-esc="line_weight" t-options="{'widget': 'float', 'precision': 2}"/>
                                    </td>
                                </tr>
                            </t>
                            </t>
                        </t>
                    </tbody>
                </table>

                <!-- Total Weight and Total Amount -->
                <p class="mt16" style="text-align: right;">
                    <strong>Total :</strong>
                    <span t-esc="total_weight" t-options="{'widget': 'float', 'precision': 2}"/> kgs
                </p>


                <div class="mt16">
                    <p>
                        is/are manufactured by us and comply with the relevant origin criterion, indicated with a tick
                        as follows:
                    </p>

                    <ul style="list-style-type: none; padding-left: 0;">
                        <li>
                            <input type="checkbox"/>
                            wholly obtained (.i.e wholly grown or produced)
                        </li>
                        <li>
                            <input type="checkbox" checked="checked"/>
                            manufactured in Singapore with minimum 25% of local content based on the ex-factory price of
                            the finished product
                        </li>
                        <li>
                            <input type="checkbox"/>
                            attained a change of tariff classification at 6 digit level i.e. Change in tariff subheading
                            (CTSH) when compared against imported or foreign/undetermined raw materials used in
                            production
                        </li>
                        <li>
                            <input type="checkbox"/>
                            undergone a chemical reaction (applicable only for products under HS Chapters 27 to 40)
                        </li>
                    </ul>
                </div>

                <div class="mt16">
                    <p>
                        <strong>Our Invoice :</strong>
                        <span t-field="o.name"/>
                        &#160; &#160; &#160;
                        <strong>Dated :</strong>
                        <span t-field="o.invoice_date"/>
                        &#160; &#160; &#160;
                        <strong>Attached.</strong>
                    </p>

                    <p>
                        Our factory is located at
                        <span t-esc="' '.join(filter(None, [
                            o.company_id.street,
                            o.company_id.street2,
                            o.company_id.city,
                            o.company_id.state_id.name if o.company_id.state_id else '',
                            o.company_id.country_id.name,
                            o.company_id.zip
                        ]))"/>
                    </p>

                    <p>
                        We forward a copy of the Certificate of Registration of our Factory issued by the Ministry of
                        Manpower.
                    </p>

                    <p>
                        We declare that the information contained in all applications for the certificates or
                        certifications as referred to the above is true and correct.
                    </p>

                    <p>
                        We are aware under the Import and Export (Regulations 1995) with effect from 1 December 1995,
                        the penalty for making a false declaration in respect of any such Certificate, permit or
                        certification is a fine of up to S$100,000 or 3 times the value of the goods whichever is
                        greater or up to 2 years' imprisonment or up to both for the first offence. For the second and
                        subsequent offence, a fine of up to S$200,000 or 4 times the value of the goods whichever is
                        greater, or up to 3 years' imprisonment or to both.
                    </p>
                </div>

                <p>Yours Sincerely,</p>
                <br/>
                <br/>
                <br/>
                <br/>
                <div style="width:30%; height:2px; background-color:black;"/>
                <span>
                    <strong>Name :</strong>
                    <span t-field="o.person_incharge_id"/>
                </span>
                <br/>
                <strong>Designation :</strong>
                <span t-if="o.person_incharge_id and o.person_incharge_id.job_id">
                    <t t-esc="o.person_incharge_id.job_id.name"/>
                </span>
            </div>
        </t>
    </template>

    <template id="report_confirmation_of_manufacturer">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="lingjack_print.report_confirmation_manufacturer"
                   t-lang="o._get_report_lang()"/>
            </t>
        </t>
    </template>

    <record id="action_report_confirmation_of_manufacturer" model="ir.actions.report">
        <field name="name">Confirmation of Manufacturer</field>
        <field name="model">account.move</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">lingjack_print.report_confirmation_of_manufacturer</field>
        <field name="report_file">lingjack_print.report_confirmation_of_manufacturer</field>
        <field name="print_report_name">'Confirmation of Manufacturer - %s' % (object.name)</field>
        <field name="binding_model_id" ref="account.model_account_move"/>
        <field name="binding_type">report</field>
    </record>
</odoo>
